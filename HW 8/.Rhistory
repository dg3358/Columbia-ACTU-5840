sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
medDataLogit$ulcer <- factor(medDataLogit$ulcer,
levels = c("gastric","duodenal"),
labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"),
labels = c(0,1))
medDataLogit$aspirin <- factor(medDataLogit$aspirin,
levels = c("non-user", "user"),
labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin, data = medDataLogit, weights = medDataLogit$frequency, family = 'binomial')
summary(medLogitmodel)
View(medLogitmodel)
View(medData)
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
medDataLogit$ulcer <- factor(medDataLogit$ulcer,
levels = c("gastric","duodenal"),
labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"),
labels = c(0,1))
medDataLogit$aspirin <- factor(medDataLogit$aspirin,
levels = c("non-user", "user"),
labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin, data = medDataLogit, weights = medDataLogit$frequency, family = binomial(logit))
summary(medLogitmodel)
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
medDataLogit$ulcer <- factor(medDataLogit$ulcer,
levels = c("gastric","duodenal"),
labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"),
labels = c(0,1))
medDataLogit$aspirin <- factor(medDataLogit$aspirin,
levels = c("non-user", "user"),
labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin, data = medDataLogit, weights = medDataLogit$frequency, family = binomial(logit))
medLogitmodel$coefficients
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
medDataLogit$ulcer <- factor(medDataLogit$ulcer,
levels = c("gastric","duodenal"),
labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"),
labels = c(0,1))
medDataLogit$aspirin <- factor(medDataLogit$aspirin,
levels = c("non-user", "user"),
labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin,
data = medDataLogit, weights = medDataLogit$frequency,
family = binomial(logit))
medLogitmodel$coefficients
?loglin
?table
mDTable <- table(medData)
mdTable
mDTable <- table(medData)
mDTable
medData
gastData <- medData[1:4]
gastData
gastData <- medData[ulcer == 'gastric']
gastData <- medData[medData$ulcer == 'gastric']
gastData <- medData$ulcer == 'gastric'
gastData
gastData <- medData$ulcer == 'gastric'
gastData <- medData[,gastData]
gastData <- medData[,1:4]
gastData
gastData <- medData[1:4,]
gastData
gastData <- medData[1:4,]
duoData <- medData[5:8,]
gastData <- table(gastData)
gastData
gastData
gastData <- medData[1:4,]
duoData <- medData[5:8,]
gastData
gastData
gastData <- medData[1:4,2:4]
duoData <- medData[5:8,2:4]
gastData
gastData <- medData[1:4,2:4]
duoData <- medData[5:8,2:4]
gastData <- table(gastData)
gastData <- medData[1:4,2:4]
duoData <- medData[5:8,2:4]
gastData <- table(gastData)
gastData
?list
?loglin
gastData <- medData[1:4,2:4]
duoData <- medData[5:8,2:4]
gastData <- table(gastData)
loglin(gastData, margin = list(c(1,2)))
gastData <- medData[1:4,2:4]
duoData <- medData[5:8,2:4]
gastData <- table(gastData)
loglin(gastData)
medData
LogLinData <- table(medData)
loglin(gastData, margin = list(c(2,3), c(2,1)))
LogLinData <- table(medData)
loglin(gastData, margin = list(c(1,2), c(1,3)))
LogLinData <- table(medData)
loglin(gastData, margin = list(c(1,2), c(1,4)))
attributes(logLinData)
attributes(LogLinData)
LogLinData <- table(medData, frequency = frequency)
logLin(medData, margin = list(c(1,2), c(1,3)))
loglin(medData, margin = list(c(1,2), c(1,3)))
?loglin
HairEyeColor
medData <- medData[,c("case-control, ulcer, aspirin, frequency")]
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medData
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
table(medData)
medData
xtabs(frequency ~ case-control + ulcer + aspirin)
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
xtabs(frequency ~ `case-control` + ulcer + aspirin, data = medData)
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
xtabs(frequency ~ ulcer + aspirin + `case-control`, data = medData)
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
xtabs(frequency ~ aspirin + `case-control` + ulcer, data = medData)
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ aspirin + `case-control` + ulcer,
data = medData)
loglin(medTab, margin = list(c(2,3)))
medLogitmodel
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ aspirin + `case-control` + ulcer,
data = medData)
loglin(medTab, margin = list(c(2,1), c(2,3)))
HairEyeColor
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ aspirin + `case-control` + ulcer,
data = medData)
loglin(medTab, margin = list(c(2,1), c(2,3)))
fm <- loglin(HairEyeColor, list(c(1, 2), c(1, 3), c(2, 3)))
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ aspirin + `case-control` + ulcer,
data = medData)
#loglin(medTab, margin = list(c(2,1), c(2,3)))
fm <- loglin(HairEyeColor, list(c(1, 2), c(1, 3), c(2, 3)))
fm
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ aspirin + `case-control` + ulcer,
data = medData)
#loglin(medTab, margin = list(c(2,1), c(2,3)))
fm <- loglin(HairEyeColor, list(c(1, 2), c(1, 3))
fm
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ aspirin + `case-control` + ulcer,
data = medData)
#loglin(medTab, margin = list(c(2,1), c(2,3)))
fm <- loglin(HairEyeColor, list(c(1, 2), c(1, 3)))
fm
HairEyeColor
fm
HairEyeColor
MedTab
medTab
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ `case-control` + aspirin + ulcer,
data = medData)
#loglin(medTab, margin = list(c(2,1), c(2,3)))
fm <- loglin(HairEyeColor, list(c(1, 2), c(1, 3)))
HairEyeColor
medTab
medTab
logLin
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ `case-control` + aspirin + ulcer,
data = medData)
logLin <- loglin(medTab, margin = list(c(1,2), c(1,3)))
logLin
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ `case-control` + aspirin + ulcer,
data = medData)
logLin <- loglin(medTab, margin = list(c(1,2), c(1,3)), fit = TRUE)
logLin
attributes(medLogitmodel)
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
medDataLogit$ulcer <- factor(medDataLogit$ulcer,
levels = c("gastric","duodenal"),
labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"),
labels = c(0,1))
medDataLogit$aspirin <- factor(medDataLogit$aspirin,
levels = c("non-user", "user"),
labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin,
data = medDataLogit, weights = medDataLogit$frequency,
family = binomial(logit))
medLogitmodel$fitted.values
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
# medDataLogit$ulcer <- factor(medDataLogit$ulcer,
#                               levels = c("gastric","duodenal"),
#                               labels = c(0,1))
# medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
#                                        levels = c("control", "case"),
#                                        labels = c(0,1))
# medDataLogit$aspirin <- factor(medDataLogit$aspirin,
#                               levels = c("non-user", "user"),
#                               labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin,
data = medDataLogit, weights = medDataLogit$frequency,
family = binomial(logit))
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
# medDataLogit$ulcer <- factor(medDataLogit$ulcer,
#                               levels = c("gastric","duodenal"),
#                               labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"),
labels = c(0,1))
# medDataLogit$aspirin <- factor(medDataLogit$aspirin,
#                               levels = c("non-user", "user"),
#                               labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin,
data = medDataLogit, weights = medDataLogit$frequency,
family = binomial(logit))
medLogitmodel$fitted.values
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
medDataLogit$ulcer <- factor(medDataLogit$ulcer,
levels = c("duodenal","gastric"),
labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"),
labels = c(0,1))
medDataLogit$aspirin <- factor(medDataLogit$aspirin,
levels = c("non-user", "user"),
labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin,
data = medDataLogit, weights = medDataLogit$frequency,
family = binomial(logit))
medLogitmodel$fitted.values
medDataLogit
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
medDataLogit$ulcer <- factor(medDataLogit$ulcer,
levels = c("duodenal","gastric"),
labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"),
labels = c(0,1))
medDataLogit$aspirin <- factor(medDataLogit$aspirin,
levels = c("non-user", "user"),
labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin,
data = medDataLogit, weights = medDataLogit$frequency,
family = binomial(logit))
medLogitmodel$fitted.values[c(5,8,3,4)]
logLin$fit
attributes(logLin$fit)
logLin$fit
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
medDataLogit$ulcer <- factor(medDataLogit$ulcer,
levels = c("duodenal","gastric"),
labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"),
labels = c(0,1))
medDataLogit$aspirin <- factor(medDataLogit$aspirin,
levels = c("non-user", "user"),
labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin,
data = medDataLogit, weights = medDataLogit$frequency,
family = binomial(logit))
probs <- medLogitmodel$fitted.values[c(5,8,3,4)]
names(probs) <- c("Duo, noA", "Duo, A", "gas, noA", "gas, A")
probs
logLin$fit["duodenal"]
logLin$fit[0]
logLin$fit
attributes(logLin$fit)
logLin$fit[ulcer = 'duodenal']
logLin$fit.values
logLin$fit
logLin$fit$duodenal
logLin$fit[1:4]
logLin$fit[1:16]
logLin$fit[1:8]
logLin$fit
probsLogLin <- c(logLin$fit[1]/logLin$fit[2], logLin$fit[3]/logLin$fit[4],
logLin$fit[5]/logLin$fit[6], logLin$fit[7]/logLin$fit[8])
probsLogLin <- c(logLin$fit[1]/logLin$fit[2], logLin$fit[3]/logLin$fit[4],
logLin$fit[5]/logLin$fit[6], logLin$fit[7]/logLin$fit[8])
probsLogLin
logLin$fit
logLin$fit[3]
logLin$fit[5]
probsLogLin
probsLogLin <- c(logLin$fit[1]/sum(logLin$fit[1:2]),
logLin$fit[3]/sum(logLin$fit[3:4]),
logLin$fit[5]/sum(logLin$fit[5:6]),
logLin$fit[7]/sum(logLin$fit[7:8]))
probsLogLin
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
medDataLogit$ulcer <- factor(medDataLogit$ulcer,
levels = c("duodenal","gastric"),
labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"),
labels = c(0,1))
medDataLogit$aspirin <- factor(medDataLogit$aspirin,
levels = c("non-user", "user"),
labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin + ulcer*aspirin,
data = medDataLogit, weights = medDataLogit$frequency,
family = binomial(logit))
probs <- medLogitmodel$fitted.values[c(5,8,3,4)]
names(probs) <- c("Duo, noA", "Duo, A", "gas, noA", "gas, A")
probs
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ `case-control` + aspirin + ulcer,
data = medData)
logLin <- loglin(medTab, margin = list(c(1,2), c(1,3), c(2,3)), fit = TRUE)
logLin$fit
probsLogLin <- c(logLin$fit[1]/sum(logLin$fit[1:2]),
logLin$fit[3]/sum(logLin$fit[3:4]),
logLin$fit[5]/sum(logLin$fit[5:6]),
logLin$fit[7]/sum(logLin$fit[7:8]))
probsLogLin
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
medDataLogit$ulcer <- factor(medDataLogit$ulcer,
levels = c("duodenal","gastric"),
labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"),
labels = c(0,1))
medDataLogit$aspirin <- factor(medDataLogit$aspirin,
levels = c("non-user", "user"),
labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin,
data = medDataLogit, weights = medDataLogit$frequency,
family = binomial(logit))
probs <- medLogitmodel$fitted.values[c(5,8,3,4)]
names(probs) <- c("Duo, noA", "Duo, A", "gas, noA", "gas, A")
probs
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
medDataLogit$ulcer <- factor(medDataLogit$ulcer,
levels = c("duodenal","gastric"),
labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"),
labels = c(0,1))
medDataLogit$aspirin <- factor(medDataLogit$aspirin,
levels = c("non-user", "user"),
labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin,
data = medDataLogit, weights = medDataLogit$frequency,
family = binomial(logit))
probs <- medLogitmodel$fitted.values[c(5,8,3,4)]
names(probs) <- c("Duo, noA", "Duo, A", "gas, noA", "gas, A")
probs
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ `case-control` + aspirin + ulcer,
data = medData)
logLin <- loglin(medTab, margin = list(c(1,2), c(1,3), c(2,3)), fit = TRUE)
logLin$fit
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
medDataLogit$ulcer <- factor(medDataLogit$ulcer,
levels = c("duodenal","gastric"),
labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"),
labels = c(0,1))
medDataLogit$aspirin <- factor(medDataLogit$aspirin,
levels = c("non-user", "user"),
labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin + ulcer*aspirin,
data = medDataLogit, weights = medDataLogit$frequency,
family = binomial(logit))
probs <- medLogitmodel$fitted.values[c(5,8,3,4)]
names(probs) <- c("Duo, noA", "Duo, A", "gas, noA", "gas, A")
probs
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11",
.name_repair = "unique_quiet")
medDataLogit <- medData
medDataLogit$ulcer <- factor(medDataLogit$ulcer,
levels = c("duodenal","gastric"),
labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"),
labels = c(0,1))
medDataLogit$aspirin <- factor(medDataLogit$aspirin,
levels = c("non-user", "user"),
labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin,
data = medDataLogit, weights = medDataLogit$frequency,
family = binomial(logit))
probs <- medLogitmodel$fitted.values[c(5,8,3,4)]
names(probs) <- c("Duo, noA", "Duo, A", "gas, noA", "gas, A")
probs
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ `case-control` + aspirin + ulcer,
data = medData)
logLin <- loglin(medTab, margin = list(c(1,2), c(1,3)), fit = TRUE)
logLin$fit
probsLogLin <- c(logLin$fit[1]/sum(logLin$fit[1:2]),
logLin$fit[3]/sum(logLin$fit[3:4]),
logLin$fit[5]/sum(logLin$fit[5:6]),
logLin$fit[7]/sum(logLin$fit[7:8]))
probsLogLin
medTab
logLin$fit[2]
probsLogLin <- c(logLin$fit[1]/sum(logLin$fit[1:2]),
logLin$fit[3]/sum(logLin$fit[3:4]),
logLin$fit[5]/sum(logLin$fit[5:6]),
logLin$fit[7]/sum(logLin$fit[7:8]))
probsLogLin
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ `case-control` + aspirin + ulcer,
data = medData)
logLin <- loglin(medTab, margin = list(c(1,2), c(1,3), c(2,3)), fit = TRUE)
logLin$fit
medTab
probsLogLin <- c(logLin$fit[1]/sum(logLin$fit[1:2]),
logLin$fit[3]/sum(logLin$fit[3:4]),
logLin$fit[5]/sum(logLin$fit[5:6]),
logLin$fit[7]/sum(logLin$fit[7:8]))
probsLogLin
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ `case-control` + aspirin + ulcer,
data = medData)
logLin <- loglin(medTab, margin = list(c(1,2), c(1,3), c(2,3)), fit = TRUE)
logLin$fit
probsLogLin <- c(logLin$fit[1]/sum(logLin$fit[1:2]),
logLin$fit[3]/sum(logLin$fit[3:4]),
logLin$fit[5]/sum(logLin$fit[5:6]),
logLin$fit[7]/sum(logLin$fit[7:8]))
probsLogLin
probsLogLin<-c(logLin$fit[1]/sum(logLin$fit[1:2]),
logLin$fit[3]/sum(logLin$fit[3:4]), logLin$fit[5]/sum(logLin$fit[5:6]),
logLin$fit[7]/sum(logLin$fit[7:8]))
names(probsLogLin) <- c("Duo, noA", "Duo, A", "gas, noA", "gas, A")
probsLogLin
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ `case-control` + aspirin + ulcer,
data = medData)
logLin <- loglin(medTab, margin = list(c(1,2), c(1,3), c(2,3)))
logLin$fit
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ `case-control` + aspirin + ulcer,
data = medData)
logLin <- loglin(medTab, margin = list(c(1,2), c(1,3), c(2,3)), fit = TRUE)
logLin$fit
medData <- read_excel("Table 9.7 Ulcer and aspirin use.xls", skip = 2,
sheet = "Sheet1", range = "A3:D11", .name_repair = "unique_quiet")
medDataLogit <- medData
medDataLogit$ulcer<-factor(medDataLogit$ulcer,levels = c("duodenal","gastric"),
labels = c(0,1))
medDataLogit$`case-control` <- factor(medDataLogit$`case-control`,
levels = c("control", "case"), labels = c(0,1))
medDataLogit$aspirin<- factor(medDataLogit$aspirin,
levels = c("non-user", "user"), labels = c(0,1))
medLogitmodel <- glm(`case-control` ~ ulcer + aspirin,
data = medDataLogit, weights = medDataLogit$frequency, family = 'binomial')
probs <- medLogitmodel$fitted.values[c(5,8,3,4)]
names(probs) <- c("Duo, noA", "Duo, A", "gas, noA", "gas, A")
probs
medData <- medData[,c("case-control", "ulcer", "aspirin", "frequency")]
medTab <- xtabs(frequency ~ `case-control` + aspirin + ulcer,
data = medData)
logLin <- loglin(medTab, margin = list(c(1,2), c(1,3), c(2,3)), fit = TRUE)
logLin$fit
